<div class="row">
	<div class="col-md-11"></div>
	<div class="col-md-1">
		<a class="btn btn-primary pull-right" href="#/logout">Logout</a>
	</div>
</div>
<div class="row">
	<div class="col-md-5">
		<div ng-show="alertMessage" class="alert alert-success alert-dismissable">
			<button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button>
			{{alertMessage}}
		</div>	
	</div>
</div>
<div class="row">
	<div class="col-md-12">
		<ul class="pager">
		  <li class="previous"><a href="#/entries/{{previousMonthYear}}">&larr; Older</a></li>
		  <li>{{currentMonthYear}}</li>
		  <li class="next" ng-show="nextMonthYear"><a href="#/entries/{{nextMonthYear}}" >Newer &rarr;</a></li>
		</ul>
	</div>
</div>
<div class="row">
	<div class="col-md-12">
		<div class="panel panel-default">
		  <div class="panel-heading">
  	        <a data-toggle="collapse" href="#addEntries">
    	      Add Entries
        	</a>
		  </div>		
		  <div id="addEntries" class="panel-collapse collapse">
		  <div class="panel-body">
			  	<form role="form" ng-submit="addEntries()">
				  	<div class="row">
				  		<div class="col-md-4">
							<label class="sr-only" for="contact">Contact</label>
							<select class="form-control" ng-options="c.name for c in contacts" ng-model="selectedContact" id="contact" required>
								<option value="">-- choose contact --</option>
							</select>
				  		</div>
				  		<div class="col-md-4">
							<label class="sr-only" for="project">Project</label>
							<select class="form-control" ng-options="p.name for p in projects | filter : {contactId : selectedContact.id}" ng-model="selectedProject" id="project" required>
								<option value="">-- choose project --</option>
							</select>
				  		</div>
				  		<div class="col-md-4">
						    <label class="sr-only" for="duration">Duration</label>
						    <input type="text" ng-model="duration" class="form-control" id="duration" placeholder="Duration(in hours)" required>
				  		</div>
				  	</div>
				  	<div class="row">
				  		<div class="col-md-4">
							<label class="checkbox">
							  <input type="checkbox" ng-model="selectWeekdays" ng-click="toggleWeekdays()"> Select all weekdays
							</label>
				  		</div>
				  	</div>
				  	<div class="row">
				  		<div class="col-md-4"></div>
				  		<div class="col-md-4">
				  			<table class="table">
				  				<tr>
				  					<th>Sun</th>
				  					<th>Mon</th>
				  					<th>Tue</th>
				  					<th>Wed</th>
				  					<th>Thu</th>
				  					<th>Fri</th>
				  					<th>Sat</th>
				  				</tr>
				  				<tr ng-repeat="week in dates">
				  					<td ng-repeat="date in week track by $index">
										<label class="checkbox" ng-show="date">
										  <input type="checkbox" ng-disabled="date > today" ng-checked="selectedDates.indexOf(date) > -1" ng-click="toggleSelection(date)"> {{date.getDate()}}
										</label>
				  					</td>
				  				</tr>
				  			</table>	
				  		</div>
				  		<div class="col-md-4"></div>
				  	</div>
				  	<div class="row">
				  		<div class="col-md-1">
							<button type="submit" ng-disabled="selectedDates.length == 0"class="btn btn-primary pull-left">Add Entries</a>
				  		</div>
				  	</div>
				</form>
			</div>	  	
		  </div>
		</div>
	</div>
</div>
<div class="row">
	<div class="col-md-12">
		<div class="panel panel-default">
			<div class="panel-heading">
				<div class="row">
					<div class="col-md-11">
				        <a data-toggle="collapse"  href="#viewEntries">
				          View Entries
				        </a>
					</div>
					<div class="col-md-1">
				        <button class="btn btn-danger pull-right" ng-disabled="selectedEntries.length == 0" ng-click="deleteSelected()">Delete selected</button>
					</div>
				</div>	
		    </div>
			<div id="viewEntries" class="panel-collapse collapse in">	
			  <table class="table table-striped">
					<tr>
						<th>
							<label class="checkbox">
							  <input ng-model="selectEntries" type="checkbox" ng-click="selectAllEntries()">
							</label>
						</th>
						<th>Date</th>
						<th>Contact</th>
						<th>Project</th>
						<th>Duration (hrs)</th>
						<th></th>
					</tr>
					<tr ng-repeat="entry in entries">
						<td>
							<label class="checkbox">
							  <input type="checkbox" ng-checked="selectedEntries.indexOf(entry.id) > -1" ng-click="selectEntry(entry.id)">
							</label>
						</td>
						<td>{{entry.date}}</td>
						<td>{{entry.contact}}</td>
						<td>{{entry.project}}</td>
						<td>{{entry.duration}}</td>
						<td><button class="close" ng-click="deleteEntry(entry.id)">&times;</button></td>
					</tr>
				</table>
			</div>
		</div>
	</div>
</div>